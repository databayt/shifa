// Patient and Appointment Models

enum Gender {
  Male
  Female
}

enum Status {
  pending
  scheduled
  cancelled
}

model Patient {
  id                     String        @id @default(cuid())
  userId                 String
  user                   User          @relation(fields: [userId], references: [id], onDelete: Cascade)
  name                   String
  email                  String
  phone                  String
  birthDate              DateTime
  gender                 Gender
  address                String
  occupation             String
  emergencyContactName   String
  emergencyContactNumber String
  primaryPhysician       String
  insuranceProvider      String
  insurancePolicyNumber  String
  allergies              String?
  currentMedication      String?
  familyMedicalHistory   String?
  pastMedicalHistory     String?
  identificationType     String?
  identificationNumber   String?
  identificationDocument String?
  privacyConsent         Boolean?
  treatmentConsent       Boolean?
  disclosureConsent      Boolean?
  appointments           Appointment[] @relation("PatientAppointments")
  createdAt              DateTime      @default(now())
  updatedAt              DateTime      @updatedAt
}

model Appointment {
  id                 String   @id @default(cuid())
  patientId          String
  patient            Patient  @relation(fields: [patientId], references: [id], onDelete: Cascade, name: "PatientAppointments")
  userId             String
  user               User     @relation(fields: [userId], references: [id], onDelete: Cascade, name: "UserAppointments")
  schedule           DateTime
  status             Status
  primaryPhysician   String
  reason             String
  note               String
  cancellationReason String?
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}
